---
// Composant pour ajouter des motifs bretons d√©coratifs
// Usage: <BretonPattern variant="hermine" />

interface Props {
  variant?: 'hermine' | 'celtic' | 'triskell';
  opacity?: number;
  size?: 'small' | 'medium' | 'large';
}

const { 
  variant = 'hermine', 
  opacity = 0.03,
  size = 'medium'
} = Astro.props;

const sizeMap = {
  small: '50px',
  medium: '100px',
  large: '150px'
};
---

<div class={`breton-pattern breton-pattern--${variant}`} data-size={size}></div>

<style define:vars={{ opacity, patternSize: sizeMap[size] }}>
  .breton-pattern {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    overflow: hidden;
  }

  .breton-pattern::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    opacity: var(--opacity);
  }

  /* Motif hermine */
  .breton-pattern--hermine::before {
    background-image: 
      radial-gradient(circle at 20px 20px, var(--color-primary) 2px, transparent 2px),
      radial-gradient(circle at 80px 80px, var(--color-primary) 2px, transparent 2px),
      radial-gradient(circle at 50px 50px, var(--color-primary) 1px, transparent 1px);
    background-size: var(--patternSize) var(--patternSize);
  }

  /* Motif celtique */
  .breton-pattern--celtic::before {
    background-image: 
      repeating-linear-gradient(
        45deg,
        transparent,
        transparent 10px,
        var(--color-primary) 10px,
        var(--color-primary) 11px,
        transparent 11px,
        transparent 20px
      ),
      repeating-linear-gradient(
        -45deg,
        transparent,
        transparent 10px,
        var(--color-primary) 10px,
        var(--color-primary) 11px,
        transparent 11px,
        transparent 20px
      );
  }

  /* Motif triskell */
  .breton-pattern--triskell::before {
    background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M50 50 Q30 30 30 10 M50 50 Q70 30 90 30 M50 50 Q50 70 30 90' stroke='%231a3a5c' fill='none' stroke-width='2'/%3E%3C/svg%3E");
    background-size: var(--patternSize) var(--patternSize);
  }
</style>