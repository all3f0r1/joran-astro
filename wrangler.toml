name = "joran-cidrotheque"
compatibility_date = "2025-01-03"

# Pages configuration
pages_build_output_dir = "dist"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "joran-production"
database_id = "REPLACE_WITH_YOUR_DATABASE_ID"
# Pour obtenir l'ID: wrangler d1 create joran-production

# KV Namespaces
[[kv_namespaces]]
binding = "SESSIONS"
id = "REPLACE_WITH_YOUR_SESSIONS_KV_ID"
# Pour créer: wrangler kv:namespace create "SESSIONS"

[[kv_namespaces]]
binding = "CACHE"
id = "REPLACE_WITH_YOUR_CACHE_KV_ID"
# Pour créer: wrangler kv:namespace create "CACHE"

# R2 Buckets
[[r2_buckets]]
binding = "IMAGES"
bucket_name = "joran-images"
# Pour créer: wrangler r2 bucket create joran-images

# Variables d'environnement publiques
[vars]
ENVIRONMENT = "production"
SITE_URL = "https://joran-cidrotheque.be"

# Secrets à configurer via CLI:
# wrangler secret put TURNSTILE_SECRET_KEY
# wrangler secret put ADMIN_JWT_SECRET
# wrangler secret put EMAIL_API_KEY

# Configuration des limites
[limits]
cpu_ms = 50
